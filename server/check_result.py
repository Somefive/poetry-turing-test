import json
mapping = {}
with open('data/v2/poetry-turing-tests-ext.jsonl') as f:
    for line in f:
        obj = json.loads(line.strip())
        for key in ('human', 'ai', 'jiuge'):
            for row in obj.get(key, []):
                mapping[row['id']] = (key, row, obj['title'], obj['author'])

# answers = '''1aae2f0b,d67d8b25,3134fb05;d67d8b25;55.30;False|f674080c,814eacc6,cfb7139b;f674080c;82.30;True|614ef5cc,2f16ed84,e1f0dd3e;614ef5cc;110.60;True|ab1ed1fd,df6f9bc0,78b6def6;78b6def6;34.30;False|9edd89ad,ea4bad00,b6d8206f;9edd89ad;29.40;False|ce97396e,f8bc2efc,8918c009;ce97396e;98.80;True|e4b6aaf1,4a120b83,f1d3558e;e4b6aaf1;113.70;False|acf26e48,10cef2e6,a416a8c5;a416a8c5;72.00;True|dd10e493,14e68760,2c704f40;14e68760;41.00;False|86080139,5e1bff93,43640ae7;5e1bff93;47.10;False|a193f487,b38c5bcd,f07c6a9b;a193f487;53.20;False|a2deacd7,903d0459,36dab4e9;903d0459;30.50;False|33d2b3e9,69847f13,48729649;48729649;34.70;True|4e63f0a6,43ff599d,80e5e0ed;80e5e0ed;28.50;True|f6d21a98,fec5d409,520bb73e;520bb73e;40.50;False|5af2c068,8f544029,ad28530b;ad28530b;17.00;False|a6ac838a,36ad3ae2,ee66e5b2;36ad3ae2;98.40;False|e18c9679,40d2ffe3,e647506c;e18c9679;26.50;False|3fff6389,cc155992,9fd045fc;9fd045fc;29.50;True|f3d6420e,ca8f1862,6127e88c;6127e88c;15.10;False'''
# answers = '''331eae32,a61d899e,b6bfc78a;b6bfc78a;20.20;True|7cf59bd3,dfa95d60,249f82ab;249f82ab;41.60;True|21b74927,924a6bb0,24a7c1b2;924a6bb0;55.70;False|5305d96a,9a01c64a,a434b0b9;5305d96a;39.40;False|0f38ff5c,59970f29,f81c26f5;59970f29;43.50;False|d8526e32,20f0294a,c00b0ed5;20f0294a;38.50;False|62ceefa1,174e6aae,7ae9a1eb;62ceefa1;34.70;False|954b30fe,b6419c93,47c94287;b6419c93;38.80;True|9d154447,0e7801f3,ac9fd4e4;ac9fd4e4;42.20;False|eb365b84,85c4a4b5,b48d0fda;85c4a4b5;57.10;False|dec7404e,9661829c,4885a0dc;9661829c;51.20;False|95485a9e,8ad140f7,7d939b2e;7d939b2e;69.90;False|e6dc6cab,e5fbde8d,7eb3838a;7eb3838a;31.60;True|b9fd25ee,aa5d2ef4,2abe04ce;aa5d2ef4;48.10;True|3c91efaa,ecf5ddc8,c8b2cd6e;3c91efaa;47.50;False|e23a1594,3c9bbb84,03f1cb96;e23a1594;16.60;False|5a0b3b65,8a10e4a6,14adce5b;5a0b3b65;24.10;False|ac4c1c61,4e6c52b0,6ee834d9;6ee834d9;25.10;True|c59c53b5,99188161,4a308110;4a308110;25.90;True|3f19e0a7,36486984,276acd78;36486984;22.40;True'''
# answers = '''67401150,a48b30de,72d97fec;67401150;1.10;False|afd433f4,0e338a19,3d2da357;afd433f4;0.90;False|bbba5b0f,fa78832e,953955af;bbba5b0f;0.80;True|da7ebdab,c1d7b0b6,f1da3a0b;da7ebdab;0.90;False|f05f03c1,45ed7c78,545793b0;f05f03c1;0.80;False|4a76ce78,a198361f,314c1ffb;4a76ce78;0.90;False|3c9bbb84,1602ea9e,e23a1594;3c9bbb84;0.90;True|ff940803,5bd2fe3c,ac942de0;ff940803;0.80;False|c6d0ce20,b53b444d,e1719da2;c6d0ce20;1.50;False|bf1fb827,8b056418,412df281;bf1fb827;1.00;True|3bfd69e4,4b320d6e,892d4573;3bfd69e4;1.00;False|0db8ffd7,739cfce6,5cd4dc37;0db8ffd7;0.90;True|c6ff8371,5ed913be,d900a426;c6ff8371;0.90;False|c3059e80,a975840b,dfd803b7;c3059e80;1.00;False|ced2753a,336f8419,e68af013;ced2753a;1.00;False|952c665d,c8b8a70d,1ec112f6;952c665d;1.00;False|6d803e30,90eeffd2,d4feab26;6d803e30;0.80;True|1467e234,d21fdddf,dedf1eb4;1467e234;1.00;True|d496670d,a42e7481,87abd44b;d496670d;0.90;True|a7a6c14f,8d60f765,7025c3b6;a7a6c14f;1.80;False'''
# answers = '''cfb7139b,36dea773,f674080c;f674080c;30.40;True|c14de2b8,39f5384e,15b2d47e;39f5384e;15.10;True|a2e8ef01,c43e0e67,298c7ffb;c43e0e67;29.80;True|108056b7,5cfb0f52,ff090cf9;ff090cf9;20.30;False|9c803802,295ef9f6,e360f5b8;9c803802;24.30;False|f57afd22,bc89b803,04190eb9;bc89b803;21.50;False|e67ad02e,09d028d1,844b7338;844b7338;16.20;False|f9989f68,2c552ea3,d9832394;2c552ea3;11.90;False|2258ec12,3c151a19,4ec53e59;2258ec12;10.90;False|9e307732,c2901253,9c1fafeb;9c1fafeb;5.40;False|89112661,89ae67f7,9438aae0;9438aae0;19.40;True|33893198,576ffccd,90e65ee0;33893198;12.40;False|e5c5301c,e7ead323,78706d6d;;10.60;False|9837c7b3,91f51fe1,740ac8a7;9837c7b3;18.60;False|1251117d,e30730ef,154b984e;154b984e;12.20;False|d6b2227f,1cad86f5,f526d592;d6b2227f;11.70;True|17e239ec,0934554e,5f467091;17e239ec;12.30;True|1b550ba7,4991dc92,ee1894e6;4991dc92;13.80;False|4c560204,329290e9,730e32d1;329290e9;17.80;False|26db3770,49b22fcb,0a8b1c7d;0a8b1c7d;17.70;True'''
# answers = '''5ca0ef97,dec27ff6,22793719;5ca0ef97;72.70;False|78b6def6,df6f9bc0,ab1ed1fd;df6f9bc0;112.80;True|2d7c9d77,93110254,fdcfdeca;2d7c9d77;55.70;False|8cb279e2,cd607af1,af48d64d;cd607af1;67.80;False|dd469879,29ee7977,71f42f8d;29ee7977;46.40;True|403a6c0d,aa719533,56a83b3e;56a83b3e;98.70;True|dec7404e,9661829c,a73d8846;9661829c;110.70;False|8957b296,9d81f2ad,23288a8c;23288a8c;29.90;True|5c5c9453,112a2e91,b3ad6212;112a2e91;84.50;True|b5a4d38b,5f0bf624,73b8b4e8;73b8b4e8;40.70;False|904622aa,a5cd7b23,15f93807;a5cd7b23;31.80;False|5ce73f97,a4c47204,793852ec;5ce73f97;92.70;False|9103041f,7ea5bc41,8375672a;9103041f;23.60;False|91c81c25,0e772099,f734faea;0e772099;19.50;True|30299419,fcf27cc9,05c6488e;30299419;48.80;False|ba20361b,38cfffde,784f1e36;784f1e36;22.50;True|b9f800e0,d77034bf,80c05e2f;d77034bf;18.70;True|e7ead323,e5c5301c,72f7cb4e;e5c5301c;25.20;False|312d8ba0,33870b6d,159f63cd;312d8ba0;30.50;False|cfd85fc7,69182284,81188cab;69182284;23.30;True'''
# answers = '''4bb1dcb7,667c1d31,3eb55791;667c1d31;21.40;True|60cc7a89,75fb55f6,ec0eda53;75fb55f6;21.70;True|f7bb0f1a,0fcf7b20,1393e0bf;0fcf7b20;25.50;False|5e078df7,530a2684,dc20936f;530a2684;15.30;True|e4055fe4,7702bda0,c7043885;c7043885;24.00;False|1188b92f,69123b6b,f21183b4;1188b92f;23.20;True|de2084a7,69f66fbd,204bffef;204bffef;24.10;False|c301f108,925a4b05,46e5862c;c301f108;20.60;False|3c4a4288,1ebf9985,55c75471;3c4a4288;22.60;True|b0261f67,3facaeca,2daabd14;b0261f67;28.40;False|672d800c,b29da66b,5bcec674;5bcec674;10.80;False|74b9168c,76f99b8d,e26380b0;76f99b8d;14.20;True|0a38eb27,349013de,70b3f5f7;0a38eb27;32.70;False|55e5dac5,41f7fd81,2008b45e;55e5dac5;33.20;False|0ae767a8,16c0bab7,1f909070;1f909070;14.90;True|2bb434db,bb4444ab,912bd96f;2bb434db;9.10;True|a57cb378,c2b87824,68326ebb;a57cb378;13.20;False|3eaed512,b5dd5f7f,a6b8fb13;a6b8fb13;23.00;False|52212606,aed40a3c,816a6f1a;52212606;8.80;True|80785cfb,6c7bc7f5,a9151dfc;6c7bc7f5;25.30;False'''
answers = '''cf36cbac,8845d948,e5b30631;8845d948;20.50;False|783e3bc2,db92d240,656f275f;db92d240;23.40;False|0a313170,caea2f4e,10fe4b88;0a313170;11.00;False|db60788a,17b782b6,a684436e;db60788a;29.40;True|acd2f8e0,30aae811,889da471;acd2f8e0;23.90;False|dc283e86,803f18ac,cf36165d;dc283e86;27.60;False|c38a5c6b,05277ac8,cd1cf36a;05277ac8;39.70;False|d551debc,cc9e63cd,1ba30583;d551debc;12.50;False|69219abc,a7fab83f,612d97d1;612d97d1;4.70;False|117b051f,73b6deb9,c3885ff5;117b051f;77.70;False|b03f0b89,f1090a58,52f5b0e2;f1090a58;9.30;False|a0609e3b,eed36b31,61bd78a1;a0609e3b;6.40;False|77e8e467,7f5e5d8a,aa4df7aa;aa4df7aa;3.90;False|aa2cf788,0b76012b,61fc5ec9;aa2cf788;5.10;False|71bc924b,7a392dfb,e0343d6f;71bc924b;9.20;False|1947f503,ec5b8460,02949821;02949821;5.70;False|38f46e27,539e55ca,14f753eb;539e55ca;9.00;False|e56780ee,f7530c53,16fe3607;16fe3607;5.10;False|80eba2d1,70eb8e7c,a265b20c;80eba2d1;5.80;True|44641a87,4c75bc6a,d5787151;4c75bc6a;8.30;False'''
for idx, answer in enumerate(answers.split('|')):
    options, selected, time, correct = answer.split(';')
    options = options.split(',')
    print('=== %d === %s %s %ss' % (idx, mapping[options[0]][2], mapping[options[0]][3], time))
    for option in options:
        print('  %s %6s %s' % ('*' if option == selected else ' ', mapping[option][0], ''.join(mapping[option][1]['content'])))
    print()
